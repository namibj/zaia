---
source: src/parser/mod.rs
assertion_line: 101
expression: syntax_tree_debug

---
Root@0..2249
  DeclStmt@0..15
    Local@0..5 "local"
    DeclTarget@5..12
      Ident@5..12 "anim_mt"
    Assign@12..13 "="
    TableExpr@13..15
      LCurly@13..14 "{"
      RCurly@14..15 "}"
  AssignStmt@15..38
    BinOp@15..30
      Ident@15..22
        Ident@15..22 "anim_mt"
      Dot@22..23 "."
      Ident@23..30
        Ident@23..30 "__index"
    Assign@30..31 "="
    Ident@31..38
      Ident@31..38 "anim_mt"
  FuncStmt@38..541
    Function@38..46 "function"
    Ident@46..58
      Ident@46..58 "newAnimation"
    FuncArgs@58..84
      LParen@58..59 "("
      Ident@59..64 "image"
      Comma@64..65 ","
      Ident@65..67 "fw"
      Comma@67..68 ","
      Ident@68..70 "fh"
      Comma@70..71 ","
      Ident@71..76 "delay"
      Comma@76..77 ","
      Ident@77..83 "frames"
      RParen@83..84 ")"
    StmtList@84..538
      DeclStmt@84..93
        Local@84..89 "local"
        DeclTarget@89..90
          Ident@89..90 "a"
        Assign@90..91 "="
        TableExpr@91..93
          LCurly@91..92 "{"
          RCurly@92..93 "}"
      AssignStmt@93..104
        BinOp@93..98
          Ident@93..94
            Ident@93..94 "a"
          Dot@94..95 "."
          Ident@95..98
            Ident@95..98 "img"
        Assign@98..99 "="
        Ident@99..104
          Ident@99..104 "image"
      AssignStmt@104..115
        BinOp@104..112
          Ident@104..105
            Ident@104..105 "a"
          Dot@105..106 "."
          Ident@106..112
            Ident@106..112 "frames"
        Assign@112..113 "="
        TableExpr@113..115
          LCurly@113..114 "{"
          RCurly@114..115 "}"
      AssignStmt@115..126
        BinOp@115..123
          Ident@115..116
            Ident@115..116 "a"
          Dot@116..117 "."
          Ident@117..123
            Ident@117..123 "delays"
        Assign@123..124 "="
        TableExpr@124..126
          LCurly@124..125 "{"
          RCurly@125..126 "}"
      AssignStmt@126..135
        BinOp@126..133
          Ident@126..127
            Ident@126..127 "a"
          Dot@127..128 "."
          Ident@128..133
            Ident@128..133 "timer"
        Assign@133..134 "="
        LiteralExpr@134..135
          Int@134..135 "0"
      AssignStmt@135..147
        BinOp@135..145
          Ident@135..136
            Ident@135..136 "a"
          Dot@136..137 "."
          Ident@137..145
            Ident@137..145 "position"
        Assign@145..146 "="
        LiteralExpr@146..147
          Int@146..147 "1"
      AssignStmt@147..154
        BinOp@147..151
          Ident@147..148
            Ident@147..148 "a"
          Dot@148..149 "."
          Ident@149..151
            Ident@149..151 "fw"
        Assign@151..152 "="
        Ident@152..154
          Ident@152..154 "fw"
      AssignStmt@154..161
        BinOp@154..158
          Ident@154..155
            Ident@154..155 "a"
          Dot@155..156 "."
          Ident@156..158
            Ident@156..158 "fh"
        Assign@158..159 "="
        Ident@159..161
          Ident@159..161 "fh"
      AssignStmt@161..175
        BinOp@161..170
          Ident@161..162
            Ident@161..162 "a"
          Dot@162..163 "."
          Ident@163..170
            Ident@163..170 "playing"
        Assign@170..171 "="
        LiteralExpr@171..175
          True@171..175 "true"
      AssignStmt@175..184
        BinOp@175..182
          Ident@175..176
            Ident@175..176 "a"
          Dot@176..177 "."
          Ident@177..182
            Ident@177..182 "speed"
        Assign@182..183 "="
        LiteralExpr@183..184
          Int@183..184 "1"
      AssignStmt@184..192
        BinOp@184..190
          Ident@184..185
            Ident@184..185 "a"
          Dot@185..186 "."
          Ident@186..190
            Ident@186..190 "mode"
        Assign@190..191 "="
        LiteralExpr@191..192
          Int@191..192 "1"
      AssignStmt@192..205
        BinOp@192..203
          Ident@192..193
            Ident@192..193 "a"
          Dot@193..194 "."
          Ident@194..203
            Ident@194..203 "direction"
        Assign@203..204 "="
        LiteralExpr@204..205
          Int@204..205 "1"
      DeclStmt@205..231
        Local@205..210 "local"
        DeclTarget@210..214
          Ident@210..214 "imgw"
        Assign@214..215 "="
        FuncCall@215..231
          BinOp@215..229
            Ident@215..220
              Ident@215..220 "image"
            Colon@220..221 ":"
            Ident@221..229
              Ident@221..229 "getWidth"
          FuncArgs@229..231
            LParen@229..230 "("
            RParen@230..231 ")"
      DeclStmt@231..258
        Local@231..236 "local"
        DeclTarget@236..240
          Ident@236..240 "imgh"
        Assign@240..241 "="
        FuncCall@241..258
          BinOp@241..256
            Ident@241..246
              Ident@241..246 "image"
            Colon@246..247 ":"
            Ident@247..256
              Ident@247..256 "getHeight"
          FuncArgs@256..258
            LParen@256..257 "("
            RParen@257..258 ")"
      IfStmt@258..298
        If@258..260 "if"
        BinOp@260..269
          Ident@260..266
            Ident@260..266 "frames"
          Eq@266..268 "=="
          LiteralExpr@268..269
            Int@268..269 "0"
        Then@269..273 "then"
        StmtList@273..295
          AssignStmt@273..295
            Ident@273..279
              Ident@273..279 "frames"
            Assign@279..280 "="
            BinOp@280..295
              BinOp@280..292
                BinOp@280..287
                  Ident@280..284
                    Ident@280..284 "imgw"
                  Slash@284..285 "/"
                  Ident@285..287
                    Ident@285..287 "fw"
                Star@287..288 "*"
                Ident@288..292
                  Ident@288..292 "imgh"
              Slash@292..293 "/"
              Ident@293..295
                Ident@293..295 "fh"
        End@295..298 "end"
      DeclStmt@298..318
        Local@298..303 "local"
        DeclTarget@303..310
          Ident@303..310 "rowsize"
        Assign@310..311 "="
        BinOp@311..318
          Ident@311..315
            Ident@311..315 "imgw"
          Slash@315..316 "/"
          Ident@316..318
            Ident@316..318 "fw"
      ForNumStmt@318..509
        For@318..321 "for"
        Ident@321..322 "i"
        Assign@322..323 "="
        LiteralExpr@323..324
          Int@323..324 "1"
        Comma@324..325 ","
        Ident@325..331
          Ident@325..331 "frames"
        BlockStmt@331..509
          Do@331..333 "do"
          StmtList@333..506
            DeclStmt@333..363
              Local@333..338 "local"
              DeclTarget@338..341
                Ident@338..341 "row"
              Assign@341..342 "="
              FuncCall@342..363
                BinOp@342..352
                  Ident@342..346
                    Ident@342..346 "math"
                  Dot@346..347 "."
                  Ident@347..352
                    Ident@347..352 "floor"
                FuncArgs@352..363
                  LParen@352..353 "("
                  BinOp@353..362
                    Ident@353..354
                      Ident@353..354 "i"
                    Slash@354..355 "/"
                    Ident@355..362
                      Ident@355..362 "rowsize"
                  RParen@362..363 ")"
            DeclStmt@363..384
              Local@363..368 "local"
              DeclTarget@368..374
                Ident@368..374 "column"
              Assign@374..375 "="
              BinOp@375..384
                Ident@375..376
                  Ident@375..376 "i"
                Percent@376..377 "%"
                Ident@377..384
                  Ident@377..384 "rowsize"
            DeclStmt@384..450
              Local@384..389 "local"
              DeclTarget@389..394
                Ident@389..394 "frame"
              Assign@394..395 "="
              FuncCall@395..450
                BinOp@395..416
                  Ident@395..399
                    Ident@395..399 "love"
                  Dot@399..400 "."
                  BinOp@400..416
                    Ident@400..408
                      Ident@400..408 "graphics"
                    Dot@408..409 "."
                    Ident@409..416
                      Ident@409..416 "newQuad"
                FuncArgs@416..450
                  LParen@416..417 "("
                  BinOp@417..426
                    Ident@417..423
                      Ident@417..423 "column"
                    Star@423..424 "*"
                    Ident@424..426
                      Ident@424..426 "fw"
                  Comma@426..427 ","
                  BinOp@427..433
                    Ident@427..430
                      Ident@427..430 "row"
                    Star@430..431 "*"
                    Ident@431..433
                      Ident@431..433 "fh"
                  Comma@433..434 ","
                  Ident@434..436
                    Ident@434..436 "fw"
                  Comma@436..437 ","
                  Ident@437..439
                    Ident@437..439 "fh"
                  Comma@439..440 ","
                  Ident@440..444
                    Ident@440..444 "imgw"
                  Comma@444..445 ","
                  Ident@445..449
                    Ident@445..449 "imgh"
                  RParen@449..450 ")"
            FuncCall@450..478
              BinOp@450..462
                Ident@450..455
                  Ident@450..455 "table"
                Dot@455..456 "."
                Ident@456..462
                  Ident@456..462 "insert"
              FuncArgs@462..478
                LParen@462..463 "("
                BinOp@463..471
                  Ident@463..464
                    Ident@463..464 "a"
                  Dot@464..465 "."
                  Ident@465..471
                    Ident@465..471 "frames"
                Comma@471..472 ","
                Ident@472..477
                  Ident@472..477 "frame"
                RParen@477..478 ")"
            FuncCall@478..506
              BinOp@478..490
                Ident@478..483
                  Ident@478..483 "table"
                Dot@483..484 "."
                Ident@484..490
                  Ident@484..490 "insert"
              FuncArgs@490..506
                LParen@490..491 "("
                BinOp@491..499
                  Ident@491..492
                    Ident@491..492 "a"
                  Dot@492..493 "."
                  Ident@493..499
                    Ident@493..499 "delays"
                Comma@499..500 ","
                Ident@500..505
                  Ident@500..505 "delay"
                RParen@505..506 ")"
          End@506..509 "end"
      ReturnStmt@509..538
        Return@509..515 "return"
        FuncCall@515..538
          Ident@515..527
            Ident@515..527 "setmetatable"
          FuncArgs@527..538
            LParen@527..528 "("
            Ident@528..529
              Ident@528..529 "a"
            Comma@529..530 ","
            Ident@530..537
              Ident@530..537 "anim_mt"
            RParen@537..538 ")"
    End@538..541 "end"
  FuncStmt@541..1059
    Function@541..549 "function"
    BinOp@549..563
      Ident@549..556
        Ident@549..556 "anim_mt"
      Colon@556..557 ":"
      Ident@557..563
        Ident@557..563 "update"
    FuncArgs@563..567
      LParen@563..564 "("
      Ident@564..566 "dt"
      RParen@566..567 ")"
    StmtList@567..1056
      IfStmt@567..597
        If@567..569 "if"
        PrefixOp@569..584
          Not@569..572 "not"
          BinOp@572..584
            Ident@572..576
              Ident@572..576 "self"
            Dot@576..577 "."
            Ident@577..584
              Ident@577..584 "playing"
        Then@584..588 "then"
        StmtList@588..594
          ReturnStmt@588..594
            Return@588..594 "return"
        End@594..597 "end"
      AssignStmt@597..632
        BinOp@597..607
          Ident@597..601
            Ident@597..601 "self"
          Dot@601..602 "."
          Ident@602..607
            Ident@602..607 "timer"
        Assign@607..608 "="
        BinOp@608..632
          BinOp@608..618
            Ident@608..612
              Ident@608..612 "self"
            Dot@612..613 "."
            Ident@613..618
              Ident@613..618 "timer"
          Plus@618..619 "+"
          BinOp@619..632
            Ident@619..621
              Ident@619..621 "dt"
            Star@621..622 "*"
            BinOp@622..632
              Ident@622..626
                Ident@622..626 "self"
              Dot@626..627 "."
              Ident@627..632
                Ident@627..632 "speed"
      IfStmt@632..1056
        If@632..634 "if"
        BinOp@634..671
          BinOp@634..644
            Ident@634..638
              Ident@634..638 "self"
            Dot@638..639 "."
            Ident@639..644
              Ident@639..644 "timer"
          RAngle@644..645 ">"
          Index@645..671
            BinOp@645..656
              Ident@645..649
                Ident@645..649 "self"
              Dot@649..650 "."
              Ident@650..656
                Ident@650..656 "delays"
            LBracket@656..657 "["
            BinOp@657..670
              Ident@657..661
                Ident@657..661 "self"
              Dot@661..662 "."
              Ident@662..670
                Ident@662..670 "position"
            RBracket@670..671 "]"
        Then@671..675 "then"
        StmtList@675..1053
          AssignStmt@675..723
            BinOp@675..685
              Ident@675..679
                Ident@675..679 "self"
              Dot@679..680 "."
              Ident@680..685
                Ident@680..685 "timer"
            Assign@685..686 "="
            BinOp@686..723
              BinOp@686..696
                Ident@686..690
                  Ident@686..690 "self"
                Dot@690..691 "."
                Ident@691..696
                  Ident@691..696 "timer"
              Minus@696..697 "-"
              Index@697..723
                BinOp@697..708
                  Ident@697..701
                    Ident@697..701 "self"
                  Dot@701..702 "."
                  Ident@702..708
                    Ident@702..708 "delays"
                LBracket@708..709 "["
                BinOp@709..722
                  Ident@709..713
                    Ident@709..713 "self"
                  Dot@713..714 "."
                  Ident@714..722
                    Ident@714..722 "position"
                RBracket@722..723 "]"
          AssignStmt@723..767
            BinOp@723..736
              Ident@723..727
                Ident@723..727 "self"
              Dot@727..728 "."
              Ident@728..736
                Ident@728..736 "position"
            Assign@736..737 "="
            BinOp@737..767
              BinOp@737..750
                Ident@737..741
                  Ident@737..741 "self"
                Dot@741..742 "."
                Ident@742..750
                  Ident@742..750 "position"
              Plus@750..751 "+"
              BinOp@751..767
                LiteralExpr@751..752
                  Int@751..752 "1"
                Star@752..753 "*"
                BinOp@753..767
                  Ident@753..757
                    Ident@753..757 "self"
                  Dot@757..758 "."
                  Ident@758..767
                    Ident@758..767 "direction"
          IfStmt@767..1053
            If@767..769 "if"
            BinOp@769..795
              BinOp@769..782
                Ident@769..773
                  Ident@769..773 "self"
                Dot@773..774 "."
                Ident@774..782
                  Ident@774..782 "position"
              RAngle@782..783 ">"
              PrefixOp@783..795
                Hash@783..784 "#"
                BinOp@784..795
                  Ident@784..788
                    Ident@784..788 "self"
                  Dot@788..789 "."
                  Ident@789..795
                    Ident@789..795 "frames"
            Then@795..799 "then"
            StmtList@799..965
              IfStmt@799..965
                If@799..801 "if"
                BinOp@801..813
                  BinOp@801..810
                    Ident@801..805
                      Ident@801..805 "self"
                    Dot@805..806 "."
                    Ident@806..810
                      Ident@806..810 "mode"
                  Eq@810..812 "=="
                  LiteralExpr@812..813
                    Int@812..813 "1"
                Then@813..817 "then"
                StmtList@817..832
                  AssignStmt@817..832
                    BinOp@817..830
                      Ident@817..821
                        Ident@817..821 "self"
                      Dot@821..822 "."
                      Ident@822..830
                        Ident@822..830 "position"
                    Assign@830..831 "="
                    LiteralExpr@831..832
                      Int@831..832 "1"
                ElseChain@832..965
                  IfStmt@832..965
                    ElseIf@832..838 "elseif"
                    BinOp@838..850
                      BinOp@838..847
                        Ident@838..842
                          Ident@838..842 "self"
                        Dot@842..843 "."
                        Ident@843..847
                          Ident@843..847 "mode"
                      Eq@847..849 "=="
                      LiteralExpr@849..850
                        Int@849..850 "2"
                    Then@850..854 "then"
                    StmtList@854..894
                      AssignStmt@854..883
                        BinOp@854..867
                          Ident@854..858
                            Ident@854..858 "self"
                          Dot@858..859 "."
                          Ident@859..867
                            Ident@859..867 "position"
                        Assign@867..868 "="
                        BinOp@868..883
                          BinOp@868..881
                            Ident@868..872
                              Ident@868..872 "self"
                            Dot@872..873 "."
                            Ident@873..881
                              Ident@873..881 "position"
                          Minus@881..882 "-"
                          LiteralExpr@882..883
                            Int@882..883 "1"
                      FuncCall@883..894
                        BinOp@883..892
                          Ident@883..887
                            Ident@883..887 "self"
                          Colon@887..888 ":"
                          Ident@888..892
                            Ident@888..892 "stop"
                        FuncArgs@892..894
                          LParen@892..893 "("
                          RParen@893..894 ")"
                    ElseChain@894..965
                      IfStmt@894..965
                        ElseIf@894..900 "elseif"
                        BinOp@900..912
                          BinOp@900..909
                            Ident@900..904
                              Ident@900..904 "self"
                            Dot@904..905 "."
                            Ident@905..909
                              Ident@905..909 "mode"
                          Eq@909..911 "=="
                          LiteralExpr@911..912
                            Int@911..912 "3"
                        Then@912..916 "then"
                        StmtList@916..962
                          AssignStmt@916..933
                            BinOp@916..930
                              Ident@916..920
                                Ident@916..920 "self"
                              Dot@920..921 "."
                              Ident@921..930
                                Ident@921..930 "direction"
                            Assign@930..931 "="
                            PrefixOp@931..933
                              Minus@931..932 "-"
                              LiteralExpr@932..933
                                Int@932..933 "1"
                          AssignStmt@933..962
                            BinOp@933..946
                              Ident@933..937
                                Ident@933..937 "self"
                              Dot@937..938 "."
                              Ident@938..946
                                Ident@938..946 "position"
                            Assign@946..947 "="
                            BinOp@947..962
                              BinOp@947..960
                                Ident@947..951
                                  Ident@947..951 "self"
                                Dot@951..952 "."
                                Ident@952..960
                                  Ident@952..960 "position"
                              Minus@960..961 "-"
                              LiteralExpr@961..962
                                Int@961..962 "1"
                        End@962..965 "end"
            ElseChain@965..1053
              IfStmt@965..1053
                ElseIf@965..971 "elseif"
                BinOp@971..1001
                  BinOp@971..986
                    BinOp@971..984
                      Ident@971..975
                        Ident@971..975 "self"
                      Dot@975..976 "."
                      Ident@976..984
                        Ident@976..984 "position"
                    LAngle@984..985 "<"
                    LiteralExpr@985..986
                      Int@985..986 "1"
                  And@986..989 "and"
                  BinOp@989..1001
                    BinOp@989..998
                      Ident@989..993
                        Ident@989..993 "self"
                      Dot@993..994 "."
                      Ident@994..998
                        Ident@994..998 "mode"
                    Eq@998..1000 "=="
                    LiteralExpr@1000..1001
                      Int@1000..1001 "3"
                Then@1001..1005 "then"
                StmtList@1005..1050
                  AssignStmt@1005..1021
                    BinOp@1005..1019
                      Ident@1005..1009
                        Ident@1005..1009 "self"
                      Dot@1009..1010 "."
                      Ident@1010..1019
                        Ident@1010..1019 "direction"
                    Assign@1019..1020 "="
                    LiteralExpr@1020..1021
                      Int@1020..1021 "1"
                  AssignStmt@1021..1050
                    BinOp@1021..1034
                      Ident@1021..1025
                        Ident@1021..1025 "self"
                      Dot@1025..1026 "."
                      Ident@1026..1034
                        Ident@1026..1034 "position"
                    Assign@1034..1035 "="
                    BinOp@1035..1050
                      BinOp@1035..1048
                        Ident@1035..1039
                          Ident@1035..1039 "self"
                        Dot@1039..1040 "."
                        Ident@1040..1048
                          Ident@1040..1048 "position"
                      Plus@1048..1049 "+"
                      LiteralExpr@1049..1050
                        Int@1049..1050 "1"
                End@1050..1053 "end"
        End@1053..1056 "end"
    End@1056..1059 "end"
  FuncStmt@1059..1170
    Function@1059..1067 "function"
    BinOp@1067..1079
      Ident@1067..1074
        Ident@1067..1074 "anim_mt"
      Colon@1074..1075 ":"
      Ident@1075..1079
        Ident@1075..1079 "draw"
    FuncArgs@1079..1096
      LParen@1079..1080 "("
      Ident@1080..1081 "x"
      Comma@1081..1082 ","
      Ident@1082..1083 "y"
      Comma@1083..1084 ","
      Ident@1084..1089 "angle"
      Comma@1089..1090 ","
      Ident@1090..1092 "sx"
      Comma@1092..1093 ","
      Ident@1093..1095 "sy"
      RParen@1095..1096 ")"
    StmtList@1096..1167
      FuncCall@1096..1167
        BinOp@1096..1114
          BinOp@1096..1109
            Ident@1096..1100
              Ident@1096..1100 "love"
            Dot@1100..1101 "."
            Ident@1101..1109
              Ident@1101..1109 "graphics"
          Dot@1109..1110 "."
          Ident@1110..1114
            Ident@1110..1114 "draw"
        FuncArgs@1114..1167
          LParen@1114..1115 "("
          BinOp@1115..1123
            Ident@1115..1119
              Ident@1115..1119 "self"
            Dot@1119..1120 "."
            Ident@1120..1123
              Ident@1120..1123 "img"
          Comma@1123..1124 ","
          Index@1124..1150
            BinOp@1124..1135
              Ident@1124..1128
                Ident@1124..1128 "self"
              Dot@1128..1129 "."
              Ident@1129..1135
                Ident@1129..1135 "frames"
            LBracket@1135..1136 "["
            BinOp@1136..1149
              Ident@1136..1140
                Ident@1136..1140 "self"
              Dot@1140..1141 "."
              Ident@1141..1149
                Ident@1141..1149 "position"
            RBracket@1149..1150 "]"
          Comma@1150..1151 ","
          Ident@1151..1152
            Ident@1151..1152 "x"
          Comma@1152..1153 ","
          Ident@1153..1154
            Ident@1153..1154 "y"
          Comma@1154..1155 ","
          Ident@1155..1160
            Ident@1155..1160 "angle"
          Comma@1160..1161 ","
          Ident@1161..1163
            Ident@1161..1163 "sx"
          Comma@1163..1164 ","
          Ident@1164..1166
            Ident@1164..1166 "sy"
          RParen@1166..1167 ")"
    End@1167..1170 "end"
  FuncStmt@1170..1350
    Function@1170..1178 "function"
    BinOp@1178..1194
      Ident@1178..1185
        Ident@1178..1185 "anim_mt"
      Colon@1185..1186 ":"
      Ident@1186..1194
        Ident@1186..1194 "addFrame"
    FuncArgs@1194..1209
      LParen@1194..1195 "("
      Ident@1195..1196 "x"
      Comma@1196..1197 ","
      Ident@1197..1198 "y"
      Comma@1198..1199 ","
      Ident@1199..1200 "w"
      Comma@1200..1201 ","
      Ident@1201..1202 "h"
      Comma@1202..1203 ","
      Ident@1203..1208 "delay"
      RParen@1208..1209 ")"
    StmtList@1209..1347
      DeclStmt@1209..1285
        Local@1209..1214 "local"
        DeclTarget@1214..1219
          Ident@1214..1219 "frame"
        Assign@1219..1220 "="
        FuncCall@1220..1285
          BinOp@1220..1241
            Ident@1220..1224
              Ident@1220..1224 "love"
            Dot@1224..1225 "."
            BinOp@1225..1241
              Ident@1225..1233
                Ident@1225..1233 "graphics"
              Dot@1233..1234 "."
              Ident@1234..1241
                Ident@1234..1241 "newQuad"
          FuncArgs@1241..1285
            LParen@1241..1242 "("
            Ident@1242..1243
              Ident@1242..1243 "x"
            Comma@1243..1244 ","
            Ident@1244..1245
              Ident@1244..1245 "y"
            Comma@1245..1246 ","
            Ident@1246..1247
              Ident@1246..1247 "w"
            Comma@1247..1248 ","
            Ident@1248..1249
              Ident@1248..1249 "h"
            Comma@1249..1250 ","
            FuncCall@1250..1266
              BinOp@1250..1264
                Ident@1250..1251
                  Ident@1250..1251 "a"
                Dot@1251..1252 "."
                BinOp@1252..1264
                  Ident@1252..1255
                    Ident@1252..1255 "img"
                  Colon@1255..1256 ":"
                  Ident@1256..1264
                    Ident@1256..1264 "getWidth"
              FuncArgs@1264..1266
                LParen@1264..1265 "("
                RParen@1265..1266 ")"
            Comma@1266..1267 ","
            FuncCall@1267..1284
              BinOp@1267..1282
                Ident@1267..1268
                  Ident@1267..1268 "a"
                Dot@1268..1269 "."
                BinOp@1269..1282
                  Ident@1269..1272
                    Ident@1269..1272 "img"
                  Colon@1272..1273 ":"
                  Ident@1273..1282
                    Ident@1273..1282 "getHeight"
              FuncArgs@1282..1284
                LParen@1282..1283 "("
                RParen@1283..1284 ")"
            RParen@1284..1285 ")"
      FuncCall@1285..1316
        BinOp@1285..1297
          Ident@1285..1290
            Ident@1285..1290 "table"
          Dot@1290..1291 "."
          Ident@1291..1297
            Ident@1291..1297 "insert"
        FuncArgs@1297..1316
          LParen@1297..1298 "("
          BinOp@1298..1309
            Ident@1298..1302
              Ident@1298..1302 "self"
            Dot@1302..1303 "."
            Ident@1303..1309
              Ident@1303..1309 "frames"
          Comma@1309..1310 ","
          Ident@1310..1315
            Ident@1310..1315 "frame"
          RParen@1315..1316 ")"
      FuncCall@1316..1347
        BinOp@1316..1328
          Ident@1316..1321
            Ident@1316..1321 "table"
          Dot@1321..1322 "."
          Ident@1322..1328
            Ident@1322..1328 "insert"
        FuncArgs@1328..1347
          LParen@1328..1329 "("
          BinOp@1329..1340
            Ident@1329..1333
              Ident@1329..1333 "self"
            Dot@1333..1334 "."
            Ident@1334..1340
              Ident@1334..1340 "delays"
          Comma@1340..1341 ","
          Ident@1341..1346
            Ident@1341..1346 "delay"
          RParen@1346..1347 ")"
    End@1347..1350 "end"
  FuncStmt@1350..1392
    Function@1350..1358 "function"
    BinOp@1358..1370
      Ident@1358..1365
        Ident@1358..1365 "anim_mt"
      Colon@1365..1366 ":"
      Ident@1366..1370
        Ident@1366..1370 "play"
    FuncArgs@1370..1372
      LParen@1370..1371 "("
      RParen@1371..1372 ")"
    StmtList@1372..1389
      AssignStmt@1372..1389
        BinOp@1372..1384
          Ident@1372..1376
            Ident@1372..1376 "self"
          Dot@1376..1377 "."
          Ident@1377..1384
            Ident@1377..1384 "playing"
        Assign@1384..1385 "="
        LiteralExpr@1385..1389
          True@1385..1389 "true"
    End@1389..1392 "end"
  FuncStmt@1392..1435
    Function@1392..1400 "function"
    BinOp@1400..1412
      Ident@1400..1407
        Ident@1400..1407 "anim_mt"
      Colon@1407..1408 ":"
      Ident@1408..1412
        Ident@1408..1412 "stop"
    FuncArgs@1412..1414
      LParen@1412..1413 "("
      RParen@1413..1414 ")"
    StmtList@1414..1432
      AssignStmt@1414..1432
        BinOp@1414..1426
          Ident@1414..1418
            Ident@1414..1418 "self"
          Dot@1418..1419 "."
          Ident@1419..1426
            Ident@1419..1426 "playing"
        Assign@1426..1427 "="
        LiteralExpr@1427..1432
          False@1427..1432 "false"
    End@1432..1435 "end"
  FuncStmt@1435..1473
    Function@1435..1443 "function"
    BinOp@1443..1456
      Ident@1443..1450
        Ident@1443..1450 "anim_mt"
      Colon@1450..1451 ":"
      Ident@1451..1456
        Ident@1451..1456 "reset"
    FuncArgs@1456..1458
      LParen@1456..1457 "("
      RParen@1457..1458 ")"
    StmtList@1458..1470
      FuncCall@1458..1470
        BinOp@1458..1467
          Ident@1458..1462
            Ident@1458..1462 "self"
          Colon@1462..1463 ":"
          Ident@1463..1467
            Ident@1463..1467 "seek"
        FuncArgs@1467..1470
          LParen@1467..1468 "("
          LiteralExpr@1468..1469
            Int@1468..1469 "0"
          RParen@1469..1470 ")"
    End@1470..1473 "end"
  FuncStmt@1473..1534
    Function@1473..1481 "function"
    BinOp@1481..1493
      Ident@1481..1488
        Ident@1481..1488 "anim_mt"
      Colon@1488..1489 ":"
      Ident@1489..1493
        Ident@1489..1493 "seek"
    FuncArgs@1493..1500
      LParen@1493..1494 "("
      Ident@1494..1499 "frame"
      RParen@1499..1500 ")"
    StmtList@1500..1531
      AssignStmt@1500..1519
        BinOp@1500..1513
          Ident@1500..1504
            Ident@1500..1504 "self"
          Dot@1504..1505 "."
          Ident@1505..1513
            Ident@1505..1513 "position"
        Assign@1513..1514 "="
        Ident@1514..1519
          Ident@1514..1519 "frame"
      AssignStmt@1519..1531
        BinOp@1519..1529
          Ident@1519..1523
            Ident@1519..1523 "self"
          Dot@1523..1524 "."
          Ident@1524..1529
            Ident@1524..1529 "timer"
        Assign@1529..1530 "="
        LiteralExpr@1530..1531
          Int@1530..1531 "0"
    End@1531..1534 "end"
  FuncStmt@1534..1589
    Function@1534..1542 "function"
    BinOp@1542..1565
      Ident@1542..1549
        Ident@1542..1549 "anim_mt"
      Colon@1549..1550 ":"
      Ident@1550..1565
        Ident@1550..1565 "getCurrentFrame"
    FuncArgs@1565..1567
      LParen@1565..1566 "("
      RParen@1566..1567 ")"
    StmtList@1567..1586
      ReturnStmt@1567..1586
        Return@1567..1573 "return"
        BinOp@1573..1586
          Ident@1573..1577
            Ident@1573..1577 "self"
          Dot@1577..1578 "."
          Ident@1578..1586
            Ident@1578..1586 "position"
    End@1586..1589 "end"
  FuncStmt@1589..1635
    Function@1589..1597 "function"
    BinOp@1597..1612
      Ident@1597..1604
        Ident@1597..1604 "anim_mt"
      Colon@1604..1605 ":"
      Ident@1605..1612
        Ident@1605..1612 "getSize"
    FuncArgs@1612..1614
      LParen@1612..1613 "("
      RParen@1613..1614 ")"
    StmtList@1614..1632
      ReturnStmt@1614..1632
        Return@1614..1620 "return"
        PrefixOp@1620..1632
          Hash@1620..1621 "#"
          BinOp@1621..1632
            Ident@1621..1625
              Ident@1621..1625 "self"
            Dot@1625..1626 "."
            Ident@1626..1632
              Ident@1626..1632 "frames"
    End@1632..1635 "end"
  FuncStmt@1635..1699
    Function@1635..1643 "function"
    BinOp@1643..1659
      Ident@1643..1650
        Ident@1643..1650 "anim_mt"
      Colon@1650..1651 ":"
      Ident@1651..1659
        Ident@1651..1659 "setDelay"
    FuncArgs@1659..1672
      LParen@1659..1660 "("
      Ident@1660..1665 "frame"
      Comma@1665..1666 ","
      Ident@1666..1671 "delay"
      RParen@1671..1672 ")"
    StmtList@1672..1696
      AssignStmt@1672..1696
        Index@1672..1690
          BinOp@1672..1683
            Ident@1672..1676
              Ident@1672..1676 "self"
            Dot@1676..1677 "."
            Ident@1677..1683
              Ident@1677..1683 "delays"
          LBracket@1683..1684 "["
          Ident@1684..1689
            Ident@1684..1689 "frame"
          RBracket@1689..1690 "]"
        Assign@1690..1691 "="
        Ident@1691..1696
          Ident@1691..1696 "delay"
    End@1696..1699 "end"
  FuncStmt@1699..1749
    Function@1699..1707 "function"
    BinOp@1707..1723
      Ident@1707..1714
        Ident@1707..1714 "anim_mt"
      Colon@1714..1715 ":"
      Ident@1715..1723
        Ident@1715..1723 "setSpeed"
    FuncArgs@1723..1730
      LParen@1723..1724 "("
      Ident@1724..1729 "speed"
      RParen@1729..1730 ")"
    StmtList@1730..1746
      AssignStmt@1730..1746
        BinOp@1730..1740
          Ident@1730..1734
            Ident@1730..1734 "self"
          Dot@1734..1735 "."
          Ident@1735..1740
            Ident@1735..1740 "speed"
        Assign@1740..1741 "="
        Ident@1741..1746
          Ident@1741..1746 "speed"
    End@1746..1749 "end"
  FuncStmt@1749..1821
    Function@1749..1757 "function"
    BinOp@1757..1773
      Ident@1757..1764
        Ident@1757..1764 "anim_mt"
      Colon@1764..1765 ":"
      Ident@1765..1773
        Ident@1765..1773 "getWidth"
    FuncArgs@1773..1775
      LParen@1773..1774 "("
      RParen@1774..1775 ")"
    StmtList@1775..1818
      ReturnStmt@1775..1818
        Return@1775..1781 "return"
        FuncCall@1781..1818
          BinOp@1781..1816
            Index@1781..1807
              BinOp@1781..1792
                Ident@1781..1785
                  Ident@1781..1785 "self"
                Dot@1785..1786 "."
                Ident@1786..1792
                  Ident@1786..1792 "frames"
              LBracket@1792..1793 "["
              BinOp@1793..1806
                Ident@1793..1797
                  Ident@1793..1797 "self"
                Dot@1797..1798 "."
                Ident@1798..1806
                  Ident@1798..1806 "position"
              RBracket@1806..1807 "]"
            Colon@1807..1808 ":"
            Ident@1808..1816
              Ident@1808..1816 "getWidth"
          FuncArgs@1816..1818
            LParen@1816..1817 "("
            RParen@1817..1818 ")"
    End@1818..1821 "end"
  FuncStmt@1821..1895
    Function@1821..1829 "function"
    BinOp@1829..1846
      Ident@1829..1836
        Ident@1829..1836 "anim_mt"
      Colon@1836..1837 ":"
      Ident@1837..1846
        Ident@1837..1846 "getHeight"
    FuncArgs@1846..1848
      LParen@1846..1847 "("
      RParen@1847..1848 ")"
    StmtList@1848..1892
      ReturnStmt@1848..1892
        Return@1848..1854 "return"
        FuncCall@1854..1892
          BinOp@1854..1890
            Index@1854..1880
              BinOp@1854..1865
                Ident@1854..1858
                  Ident@1854..1858 "self"
                Dot@1858..1859 "."
                Ident@1859..1865
                  Ident@1859..1865 "frames"
              LBracket@1865..1866 "["
              BinOp@1866..1879
                Ident@1866..1870
                  Ident@1866..1870 "self"
                Dot@1870..1871 "."
                Ident@1871..1879
                  Ident@1871..1879 "position"
              RBracket@1879..1880 "]"
            Colon@1880..1881 ":"
            Ident@1881..1890
              Ident@1881..1890 "getHeight"
          FuncArgs@1890..1892
            LParen@1890..1891 "("
            RParen@1891..1892 ")"
    End@1892..1895 "end"
  FuncStmt@1895..2027
    Function@1895..1903 "function"
    BinOp@1903..1918
      Ident@1903..1910
        Ident@1903..1910 "anim_mt"
      Colon@1910..1911 ":"
      Ident@1911..1918
        Ident@1911..1918 "setMode"
    FuncArgs@1918..1924
      LParen@1918..1919 "("
      Ident@1919..1923 "mode"
      RParen@1923..1924 ")"
    StmtList@1924..2024
      IfStmt@1924..2024
        If@1924..1926 "if"
        BinOp@1926..1938
          Ident@1926..1930
            Ident@1926..1930 "mode"
          Eq@1930..1932 "=="
          LiteralExpr@1932..1938
            String@1932..1938 "\"loop\""
        Then@1938..1942 "then"
        StmtList@1942..1953
          AssignStmt@1942..1953
            BinOp@1942..1951
              Ident@1942..1946
                Ident@1942..1946 "self"
              Dot@1946..1947 "."
              Ident@1947..1951
                Ident@1947..1951 "mode"
            Assign@1951..1952 "="
            LiteralExpr@1952..1953
              Int@1952..1953 "1"
        ElseChain@1953..2024
          IfStmt@1953..2024
            ElseIf@1953..1959 "elseif"
            BinOp@1959..1971
              Ident@1959..1963
                Ident@1959..1963 "mode"
              Eq@1963..1965 "=="
              LiteralExpr@1965..1971
                String@1965..1971 "\"once\""
            Then@1971..1975 "then"
            StmtList@1975..1986
              AssignStmt@1975..1986
                BinOp@1975..1984
                  Ident@1975..1979
                    Ident@1975..1979 "self"
                  Dot@1979..1980 "."
                  Ident@1980..1984
                    Ident@1980..1984 "mode"
                Assign@1984..1985 "="
                LiteralExpr@1985..1986
                  Int@1985..1986 "2"
            ElseChain@1986..2024
              IfStmt@1986..2024
                ElseIf@1986..1992 "elseif"
                BinOp@1992..2006
                  Ident@1992..1996
                    Ident@1992..1996 "mode"
                  Eq@1996..1998 "=="
                  LiteralExpr@1998..2006
                    String@1998..2006 "\"bounce\""
                Then@2006..2010 "then"
                StmtList@2010..2021
                  AssignStmt@2010..2021
                    BinOp@2010..2019
                      Ident@2010..2014
                        Ident@2010..2014 "self"
                      Dot@2014..2015 "."
                      Ident@2015..2019
                        Ident@2015..2019 "mode"
                    Assign@2019..2020 "="
                    LiteralExpr@2020..2021
                      Int@2020..2021 "3"
                End@2021..2024 "end"
    End@2024..2027 "end"
  IfStmt@2027..2249
    If@2027..2029 "if"
    Ident@2029..2054
      Ident@2029..2054 "Animations_legacy_sup ..."
    Then@2054..2058 "then"
    StmtList@2058..2246
      AssignStmt@2058..2097
        BinOp@2058..2084
          BinOp@2058..2071
            Ident@2058..2062
              Ident@2058..2062 "love"
            Dot@2062..2063 "."
            Ident@2063..2071
              Ident@2063..2071 "graphics"
          Dot@2071..2072 "."
          Ident@2072..2084
            Ident@2072..2084 "newAnimation"
        Assign@2084..2085 "="
        Ident@2085..2097
          Ident@2085..2097 "newAnimation"
      DeclStmt@2097..2130
        Local@2097..2102 "local"
        DeclTarget@2102..2111
          Ident@2102..2111 "oldLGDraw"
        Assign@2111..2112 "="
        BinOp@2112..2130
          Ident@2112..2116
            Ident@2112..2116 "love"
          Dot@2116..2117 "."
          BinOp@2117..2130
            Ident@2117..2125
              Ident@2117..2125 "graphics"
            Dot@2125..2126 "."
            Ident@2126..2130
              Ident@2126..2130 "draw"
      FuncStmt@2130..2246
        Function@2130..2138 "function"
        BinOp@2138..2156
          BinOp@2138..2151
            Ident@2138..2142
              Ident@2138..2142 "love"
            Dot@2142..2143 "."
            Ident@2143..2151
              Ident@2143..2151 "graphics"
          Dot@2151..2152 "."
          Ident@2152..2156
            Ident@2152..2156 "draw"
        FuncArgs@2156..2166
          LParen@2156..2157 "("
          Ident@2157..2161 "item"
          Comma@2161..2162 ","
          TDot@2162..2165 "..."
          RParen@2165..2166 ")"
        StmtList@2166..2243
          IfStmt@2166..2243
            If@2166..2168 "if"
            BinOp@2168..2199
              BinOp@2168..2187
                FuncCall@2168..2178
                  Ident@2168..2172
                    Ident@2168..2172 "type"
                  FuncArgs@2172..2178
                    LParen@2172..2173 "("
                    Ident@2173..2177
                      Ident@2173..2177 "item"
                    RParen@2177..2178 ")"
                Eq@2178..2180 "=="
                LiteralExpr@2180..2187
                  String@2180..2187 "\"table\""
              And@2187..2190 "and"
              BinOp@2190..2199
                Ident@2190..2194
                  Ident@2190..2194 "item"
                Dot@2194..2195 "."
                Ident@2195..2199
                  Ident@2195..2199 "draw"
            Then@2199..2203 "then"
            StmtList@2203..2217
              FuncCall@2203..2217
                BinOp@2203..2212
                  Ident@2203..2207
                    Ident@2203..2207 "item"
                  Colon@2207..2208 ":"
                  Ident@2208..2212
                    Ident@2208..2212 "draw"
                FuncArgs@2212..2217
                  LParen@2212..2213 "("
                  VarArgExpr@2213..2216
                    TDot@2213..2216 "..."
                  RParen@2216..2217 ")"
            ElseChain@2217..2243
              Else@2217..2221 "else"
              StmtList@2221..2240
                FuncCall@2221..2240
                  Ident@2221..2230
                    Ident@2221..2230 "oldLGDraw"
                  FuncArgs@2230..2240
                    LParen@2230..2231 "("
                    Ident@2231..2235
                      Ident@2231..2235 "item"
                    Comma@2235..2236 ","
                    VarArgExpr@2236..2239
                      TDot@2236..2239 "..."
                    RParen@2239..2240 ")"
              End@2240..2243 "end"
        End@2243..2246 "end"
    End@2246..2249 "end"

